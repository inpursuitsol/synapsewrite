<button id="exportBtn">Export to WordPress</button>

<script>
document.getElementById('exportBtn').onclick = async () => {
  const title = "My Streamed Article";
  const content = document.getElementById('output').innerHTML; // take generated HTML
  const res = await fetch("http://localhost:4000/exportToWP", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ title, content })
  });
  const data = await res.json();
  if (data.success) {
    alert("✅ Draft created at " + data.postUrl);
  } else {
    alert("❌ Failed: " + data.error);
  }
};
</script>
